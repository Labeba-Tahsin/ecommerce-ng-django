<div class="max-w-4xl mx-auto p-6 bg-white shadow rounded-md">
  <h2 class="text-2xl font-semibold mb-4">
    {{ isEdit ? "Update" : "Add" }} Product
  </h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div>
      <label for="title" class="block font-medium mb-1">Title</label>
      <input id="title" pInputText [(ngModel)]="product.title" class="w-full" />
    </div>

    <div>
      <label for="price" class="block font-medium mb-1">Price</label>
      <input
        id="price"
        pInputText
        type="number"
        [(ngModel)]="product.price"
        class="w-full"
      />
    </div>

    <div>
      <label for="quantity" class="block font-medium mb-1">Quantity</label>
      <input
        id="quantity"
        pInputText
        type="number"
        [(ngModel)]="product.quantity"
        class="w-full"
      />
    </div>

    <div>
      <label for="category" class="block font-medium mb-1">Category</label>
      <p-dropdown
        [options]="categoryOptions"
        [(ngModel)]="product.categoryId"
        optionLabel="name"
        placeholder="Select a category"
        class="w-full"
      ></p-dropdown>
    </div>

    <div class="md:col-span-2">
      <label for="description" class="block font-medium mb-1"
        >Description</label
      >
      <textarea
        id="description"
        pInputTextarea
        [(ngModel)]="product.description"
        rows="4"
        class="w-full"
      ></textarea>
    </div>

    <div>
      <label class="block font-medium mb-1">Product Image</label>
      <p-fileUpload
        mode="basic"
        name="file"
        accept="image/*"
        [auto]="true"
        (onSelect)="onImageUpload($event)"
        class="text-left"
      ></p-fileUpload>

      <img
        *ngIf="product.image"
        [src]="product.image"
        alt="Preview"
        class="mt-2 h-32 object-cover rounded-md"
      />
    </div>
  </div>

  <div class="flex justify-end mt-6 gap-3">
    <button
      pButton
      label="Cancel"
      class="p-button-secondary"
      routerLink="/admin/products"
    ></button>
    <button pButton label="Save" (click)="saveProduct()"></button>
  </div>
</div>
